language: python
python:
  - "3.6"

# Service for postgre database
services:
  - postgresql 

# command to install requirements
install:
  - pip install -r requirements.txt

# command to run tests
script:
  - py.test --cov-report term --cov=app
  - coverage report
before_script:
  - psql -c 'create database postgres;' -U postgres
  - psql -c 'create database postgrestest;' -U postgres
  - python create_tables.py
after_success:
- coveralls